"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{8098:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var r=t(5155),l=t(2115);let a=(0,l.createContext)(null),s=a.Provider;function o(){let e=(0,l.useContext)(a);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var u=t(5027),i=t.n(u);function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let p=(0,l.forwardRef)(function({bounds:e,boundsOptions:n,center:t,children:r,className:a,id:o,placeholder:i,style:p,whenReady:d,zoom:f,...m},h){let[v]=(0,l.useState)({className:a,id:o,style:p}),[x,C]=(0,l.useState)(null);(0,l.useImperativeHandle)(h,()=>x?.map??null,[x]);let j=(0,l.useCallback)(r=>{if(null!==r&&null===x){let l=new u.Map(r,m);null!=t&&null!=f?l.setView(t,f):null!=e&&l.fitBounds(e,n),null!=d&&l.whenReady(d),C(Object.freeze({__version:1,map:l}))}},[]);(0,l.useEffect)(()=>()=>{x?.map.remove()},[x]);let A=x?l.createElement(s,{value:x},r):i??null;return l.createElement("div",c({},v,{ref:j}),A)});var d=t(7650);function f(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function m(e,n){return null==n?function(n,t){let r=(0,l.useRef)();return r.current||(r.current=e(n,t)),r}:function(t,r){let a=(0,l.useRef)();a.current||(a.current=e(t,r));let s=(0,l.useRef)(t),{instance:o}=a.current;return(0,l.useEffect)(function(){s.current!==t&&(n(o,t,s.current),s.current=t)},[o,t,r]),a}}function h(e,n){let t=(0,l.useRef)(n);(0,l.useEffect)(function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}function v(e,n){let t=(0,l.useRef)();(0,l.useEffect)(function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}},[e,n])}function x(e,n){let t=e.pane??n.pane;return t?{...e,pane:t}:e}function C(e,n){(0,l.useEffect)(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}let j=function(e,n){var t,r;return t=m(e,n),r=function(e){let n=o(),r=t(x(e,n),n);return h(n.map,e.attribution),v(r.current,e.eventHandlers),C(r.current,n),r},(0,l.forwardRef)(function(e,n){let{instance:t}=r(e).current;return(0,l.useImperativeHandle)(n,()=>t),null})}(function({url:e,...n},t){return f(new u.TileLayer(e,x(n,t)),t)},function(e,n,t){let{opacity:r,zIndex:l}=n;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=l&&l!==t.zIndex&&e.setZIndex(l);let{url:a}=n;null!=a&&a!==t.url&&e.setUrl(a)}),A=function(e,n){var t,r;return t=m(e,n),r=function(e){let n=o(),r=t(x(e,n),n);v(r.current,e.eventHandlers),C(r.current,n);var a=r.current;let s=(0,l.useRef)();return(0,l.useEffect)(function(){if(e.pathOptions!==s.current){let n=e.pathOptions??{};a.instance.setStyle(n),s.current=n}},[a,e]),r},(0,l.forwardRef)(function(e,n){let{instance:t,context:a}=r(e).current;return(0,l.useImperativeHandle)(n,()=>t),null==e.children?null:l.createElement(s,{value:a},e.children)})}(function({center:e,children:n,...t},r){var l;let a=new u.CircleMarker(e,t);return f(a,(l={overlayContainer:a},Object.freeze({...r,...l})))},function(e,n,t){n.center!==t.center&&e.setLatLng(n.center),null!=n.radius&&n.radius!==t.radius&&e.setRadius(n.radius)}),N=function(e,n){var t,r;return t=m(e),r=function(e,r){let l=o(),a=t(x(e,l),l);return h(l.map,e.attribution),v(a.current,e.eventHandlers),n(a.current,l,e,r),a},(0,l.forwardRef)(function(e,n){let[t,a]=(0,l.useState)(!1),{instance:s}=r(e,a).current;(0,l.useImperativeHandle)(n,()=>s),(0,l.useEffect)(function(){t&&s.update()},[s,t,e.children]);let o=s._contentNode;return o?(0,d.createPortal)(e.children,o):null})}(function(e,n){return f(new u.Popup(e,n.overlayContainer),n)},function(e,n,{position:t},r){(0,l.useEffect)(function(){let{instance:l}=e;function a(e){e.popup===l&&(l.update(),r(!0))}function s(e){e.popup===l&&r(!1)}return n.map.on({popupopen:a,popupclose:s}),null==n.overlayContainer?(null!=t&&l.setLatLng(t),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:a,popupclose:s}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,t])});delete i().Icon.Default.prototype._getIconUrl,i().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});let g={north:49.5,south:24.5,east:-66.5,west:-125.5},S={IAD:[39.0438,-77.4874],ORD:[41.9742,-87.9073],EWR:[40.6895,-74.1745],LAX:[33.9416,-118.4085],ATL:[33.6407,-84.4277],DFW:[32.8998,-97.0403],ABQ:[35.0844,-106.6504],ANC:[61.2181,-149.9003],AUS:[30.2672,-97.7431],BGR:[44.8076,-68.7711],BOS:[42.3601,-71.0589],BUF:[42.8864,-78.8784],CLT:[35.2271,-80.8431],CLE:[41.4993,-81.6944],CMH:[39.9612,-82.9988],DEN:[39.7392,-104.9903],DTW:[42.3314,-83.0458],DUR:[35.994,-78.8986],HNL:[21.3099,-157.8581],IAH:[29.7604,-95.3698],IND:[39.7684,-86.1581],JAX:[30.3322,-81.6557],MCI:[39.0997,-94.5786],LAS:[36.1699,-115.1398],MFE:[26.2034,-98.23],MEM:[35.1495,-90.049],MIA:[25.7617,-80.1918],MSP:[44.9778,-93.265],BNA:[36.1627,-86.7816],ORF:[36.8468,-76.2852],OKC:[35.4676,-97.5164],OMA:[41.2565,-95.9345],PHL:[39.9526,-75.1652],PHX:[33.4484,-112.074],PIT:[40.4406,-79.9959],PDX:[45.5152,-122.6784],RIC:[37.5407,-77.436],SMF:[38.5816,-121.4944],SLC:[40.7608,-111.891],SAT:[29.4241,-98.4936],SAN:[32.7157,-117.1611],SFO:[37.7749,-122.4194],SJC:[37.3382,-121.8863],SEA:[47.6062,-122.3321],FSD:[43.5446,-96.7311],STL:[38.627,-90.1994],TLH:[30.4518,-84.2807],TPA:[27.9506,-82.4572]},b={IAD:"Ashburn",ORD:"Chicago",EWR:"Newark",LAX:"Los Angeles",ATL:"Atlanta",DFW:"Dallas",ABQ:"Albuquerque",ANC:"Anchorage",AUS:"Austin",BGR:"Bangor",BOS:"Boston",BUF:"Buffalo",CLT:"Charlotte",CLE:"Cleveland",CMH:"Columbus",DEN:"Denver",DTW:"Detroit",DUR:"Durham",HNL:"Honolulu",IAH:"Houston",IND:"Indianapolis",JAX:"Jacksonville",MCI:"Kansas City",LAS:"Las Vegas",MFE:"McAllen",MEM:"Memphis",MIA:"Miami",MSP:"Minneapolis",BNA:"Nashville",ORF:"Norfolk",OKC:"Oklahoma City",OMA:"Omaha",PHL:"Philadelphia",PHX:"Phoenix",PIT:"Pittsburgh",PDX:"Portland",RIC:"Richmond",SMF:"Sacramento",SLC:"Salt Lake City",SAT:"San Antonio",SAN:"San Diego",SFO:"San Francisco",SJC:"San Jose",SEA:"Seattle",FSD:"Sioux Falls",STL:"St. Louis",TLH:"Tallahassee",TPA:"Tampa"},y=function(e){let{data:n}=e;return(0,r.jsxs)("div",{className:"leaflet-map-container",children:[(0,r.jsxs)("div",{className:"map-header",children:[(0,r.jsx)("h3",{children:"US Cloudflare Network"}),(0,r.jsx)("p",{children:"Real-time latency measurements across PoPs"})]}),(0,r.jsxs)("div",{className:"map-wrapper",children:[(0,r.jsxs)(p,{center:[39.5,-98.35],zoom:4,style:{height:"400px",width:"100%",borderRadius:"8px"},maxBounds:[[g.north,g.west],[g.south,g.east]],maxBoundsViscosity:1,zoomControl:!1,dragging:!1,doubleClickZoom:!1,scrollWheelZoom:!1,touchZoom:!1,boxZoom:!1,keyboard:!1,children:[(0,r.jsx)(j,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Object.entries(S).map(e=>{let t,l,[a,s]=e,o=Array.isArray(n)?n.find(e=>e.colo===a):null,u=o?(t=o.avg_rtt)<50?"#10B981":t<100?"#F59E0B":"#EF4444":"#9CA3AF",i=o?(l=o.avg_rtt)<50?8:l<100?6:5:4;return(0,r.jsx)(A,{center:s,radius:i,pathOptions:{color:"#ffffff",fillColor:u,fillOpacity:.8,weight:2,opacity:1},children:(0,r.jsx)(N,{children:(0,r.jsxs)("div",{className:"popup-content",children:[(0,r.jsxs)("h4",{children:[b[a]||a,", US"]}),(0,r.jsxs)("div",{className:"popup-details",children:[(0,r.jsxs)("div",{className:"popup-row",children:[(0,r.jsx)("span",{className:"popup-label",children:"PoP:"}),(0,r.jsx)("span",{className:"popup-value",children:a})]}),o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"popup-row",children:[(0,r.jsx)("span",{className:"popup-label",children:"Avg RTT:"}),(0,r.jsxs)("span",{className:"popup-value",children:[o.avg_rtt," ms"]})]}),(0,r.jsxs)("div",{className:"popup-row",children:[(0,r.jsx)("span",{className:"popup-label",children:"Jitter:"}),(0,r.jsxs)("span",{className:"popup-value",children:[o.jitter," ms"]})]})]}):(0,r.jsxs)("div",{className:"popup-row",children:[(0,r.jsx)("span",{className:"popup-label",children:"Status:"}),(0,r.jsx)("span",{className:"popup-value",children:"No data"})]})]})]})})},a)})]}),(0,r.jsxs)("div",{className:"map-legend",children:[(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#10B981"}}),(0,r.jsx)("span",{children:"< 50ms"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#F59E0B"}}),(0,r.jsx)("span",{children:"50-100ms"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#EF4444"}}),(0,r.jsx)("span",{children:"> 100ms"})]}),(0,r.jsxs)("div",{className:"legend-item",children:[(0,r.jsx)("div",{className:"legend-color",style:{backgroundColor:"#9CA3AF"}}),(0,r.jsx)("span",{children:"No data"})]})]})]})]})}}}]);